version: "3"

networks:
  nur-bnb-net:

volumes:
  mssql-azuresql-edge-data: {}

services:
  property-service:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "5050:5050"
    depends_on:
      - sqlserver
    networks:
      - nur-bnb-net

  sqlserver:
    image: mcr.microsoft.com/azure-sql-edge:latest
    cap_add: ["SYS_PTRACE"]
    environment:
      - "ACCEPT_EULA=1"
      - "MSSQL_SA_PASSWORD=Clave**"
    ports:
      - "1433:1433"
    hostname: mssql
    volumes:
      - "mssql-azuresql-edge-data:/var/opt/mssql"
